---
import MainLayout from "@/layouts/MainLayout.astro";
import { SITE_CONFIG } from "@/config/site";
import ScrollColorAnimation from "@/components/ScrollColorAnimation.astro";
import AppleScrollEffects from "@/components/AppleScrollEffects.astro";
import SimpleAnnouncementBanner from "@/components/SimpleAnnouncementBanner.astro";
import ImageLightbox from "@/components/ImageLightbox.astro";

// ReactBits Components
import Hyperspeed from "@/components/reactbits/Hyperspeed";
import CountUp from "@/components/reactbits/CountUp";
import Magnet from "@/components/reactbits/Magnet";
import TiltedCard from "@/components/reactbits/TiltedCard";
import SplashCursor from "@/components/reactbits/SplashCursor";
import StatsCounter from "@/components/StatsCounter";
---

<MainLayout
  title="首页"
  description={SITE_CONFIG.description}
  image="/img/admt-bg.webp"
>
  <SplashCursor client:load />

  <!-- Announcement Banner - Fixed Top -->
  <SimpleAnnouncementBanner />

  <!-- Hero Section - Apple Style -->
  <section
    class="hero-section py-24 lg:py-48 min-h-[95vh] flex items-center dynamic-background overflow-hidden relative"
    data-parallax="0.05"
  >
    <Hyperspeed client:only="react" />
    <div
      class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10"
    >
      <h1
        class="text-6xl sm:text-7xl md:text-8xl lg:text-9xl font-bold text-gray-900 dark:text-white mb-10 animate-fade-in tracking-tighter leading-[1.05]"
        data-scroll-color="hero-title"
        data-fade-in
      >
        {SITE_CONFIG.name.split("-")[0]}<span
          class="bg-gradient-to-b from-gray-900 to-gray-500 dark:from-white dark:to-gray-400 bg-clip-text text-transparent italic"
          >{
            SITE_CONFIG.name.split("-")[1]
              ? "-" + SITE_CONFIG.name.split("-")[1]
              : ""
          }</span
        >
      </h1>
      <p
        class="text-2xl sm:text-3xl md:text-4xl text-gray-600 dark:text-gray-300 mb-16 animate-slide-up font-light leading-relaxed tracking-tight max-w-4xl mx-auto"
        data-scroll-color="gradient-text"
        data-fade-in
      >
        {SITE_CONFIG.tagline}
      </p>
      <div
        class="flex flex-col sm:flex-row gap-6 justify-center animate-slide-up"
      >
        <Magnet client:load padding={50} magnetStrength={3}>
          <a
            href="/download"
            class="bg-blue-600 hover:bg-blue-700 text-white px-14 py-5 rounded-full font-bold text-xl transition-all duration-300 transform hover:scale-[1.03] shadow-[0_20px_50px_rgba(37,99,235,0.3)] hover:shadow-blue-500/40 block"
          >
            立即下载
          </a>
        </Magnet>
        <Magnet client:load padding={50} magnetStrength={3}>
          <a
            href="/features"
            class="group text-gray-900 dark:text-white px-14 py-5 rounded-full font-bold text-xl transition-all duration-300 border-2 border-gray-900/10 dark:border-white/10 hover:border-gray-900 dark:hover:border-white flex items-center justify-center gap-2 block"
          >
            了解详情
            <svg
              class="w-5 h-5 group-hover:translate-x-1 transition-transform"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              ><path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"></path></svg
            >
          </a>
        </Magnet>
      </div>
    </div>
  </section>

  <!-- Gallery Showcase - High Impact -->
  <section class="py-24 bg-white dark:bg-black overflow-hidden">
    <div class="max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
        <div class="order-2 md:order-1" data-fade-in>
          <div class="relative">
            <div
              class="absolute -inset-10 bg-blue-500/10 rounded-full blur-3xl"
            >
            </div>
            <img
              src="https://img-g.lacs.cc/file/1770038394235_SnowShot_2026-02-02_18-38-19.webp"
              alt="ADMT 每一处细节"
              class="relative rounded-2xl shadow-2xl border border-gray-200/50 dark:border-white/10 transform -rotate-1 hover:rotate-0 transition-all duration-1000 group-hover:shadow-3xl"
            />
          </div>
        </div>
        <div class="order-1 md:order-2 px-8" data-fade-in>
          <h2
            class="text-4xl md:text-6xl font-bold text-gray-900 dark:text-white mb-8 tracking-tight"
          >
            看见 <span
              class="bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent"
              >每一处细节</span
            >
          </h2>
          <p
            class="text-xl text-gray-600 dark:text-gray-400 font-light leading-relaxed mb-10"
          >
            深度的系统洞察，直观的数据展示。ADMT 让复杂的 Android
            系统管理变得如丝般顺滑。
          </p>
          <ul class="space-y-4">
            {
              [
                "全方位的设备信息展示",
                "实时的系统日志捕获",
                "全能的手机信息管理",
              ].map((item) => (
                <li class="flex items-center gap-3 text-lg font-medium text-gray-700 dark:text-gray-300">
                  <svg
                    class="w-6 h-6 text-blue-600"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                  {item}
                </li>
              ))
            }
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Features Preview - Apple Style -->
  <section class="py-24 sm:py-32 bg-gray-50 dark:bg-black">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-20">
        <h2
          class="text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 dark:text-white mb-6 tracking-tight"
          data-scroll-color="section-title"
        >
          强大功能
        </h2>
        <p
          class="text-xl md:text-2xl text-gray-600 dark:text-gray-400 max-w-4xl mx-auto font-light mb-10"
          data-scroll-color="feature-text"
        >
          一切都为了让设备管理变得简单而高效
        </p>
        <div class="flex justify-center mb-16" data-fade-in>
          <a
            href="/features"
            class="group inline-flex items-center bg-blue-600 hover:bg-blue-700 text-white px-10 py-5 rounded-full font-bold text-xl transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl"
          >
            探索所有功能特性
            <svg
              class="ml-3 w-6 h-6 transform group-hover:translate-x-1 transition-transform"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
            </svg>
          </a>
        </div>
      </div>

      <!-- Feature Grid -->
      <div
        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8 sm:gap-12"
      >
        {
          [
            {
              title: "欢迎使用",
              description: "ADMT，让设备管理变得简单而高效。",
              image:
                "https://img-g.lacs.cc/file/1770038393216_SnowShot_2026-02-02_16-36-04.webp",
            },
            {
              title: "全能的设备信息获取",
              description: "获取设备的详细信息。",
              image:
                "https://img-g.lacs.cc/file/1770038394235_SnowShot_2026-02-02_18-38-19.webp",
            },
            {
              title: "设备投屏",
              description: "超低延迟，极致高清。",
              image:
                "https://img-g.lacs.cc/file/1770038393162_SnowShot_2026-02-02_18-41-20.webp",
            },
            {
              title: "应用管理",
              description: "批量管理，极致高效。",
              image:
                "https://img-g.lacs.cc/file/1770038395136_SnowShot_2026-02-02_18-51-34.webp",
            },
          ].map((feature, index) => (
            <div
              class="group relative overflow-hidden rounded-2xl bg-white dark:bg-gray-800 shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2"
              data-fade-in
            >
              <div class="aspect-[16/10] overflow-hidden">
                <TiltedCard
                  client:visible
                  imageSrc={feature.image}
                  altText={feature.title}
                  captionText={feature.title}
                  containerHeight="100%"
                  imageHeight="300px"
                  imageWidth="100%"
                  rotateAmplitude={12}
                  scaleOnHover={1.05}
                  showTooltip={false}
                />
              </div>
              <div class="p-8 sm:p-10">
                <div class="flex items-center gap-4 mb-4">
                  <h3 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white tracking-tight">
                    {feature.title}
                  </h3>
                </div>
                <p class="text-lg text-gray-600 dark:text-gray-400 font-light leading-relaxed">
                  {feature.description}
                </p>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </section>

  <!-- Stats Section - Apple Style -->
  <section class="py-24 sm:py-32 bg-white dark:bg-black">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <StatsCounter client:visible />
    </div>
  </section>

  <!-- Video Section -->
  <section class="py-24 sm:py-32 bg-white dark:bg-black">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12 sm:mb-16">
        <h2
          class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 dark:text-white mb-4 sm:mb-6 tracking-tight"
          data-scroll-color="section-title"
        >
          功能演示视频
        </h2>
        <p
          class="text-base sm:text-lg md:text-xl text-gray-600 dark:text-gray-400 font-light max-w-3xl mx-auto"
          data-scroll-color="feature-text"
        >
          观看玩机管家的功能演示，了解如何高效管理您的Android设备
        </p>
      </div>
      <div
        class="aspect-video max-w-4xl mx-auto bg-gray-100 dark:bg-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-400 hover:shadow-[0_20px_60px_rgba(0,0,0,0.3)]"
      >
        <iframe
          src="//player.bilibili.com/player.html?isOutside=true&aid=115400721433636&bvid=BV1mrsPzME5t&cid=33213580102&p=1"
          scrolling="no"
          frameborder="no"
          allowfullscreen="true"
          class="w-full h-full"></iframe>
      </div>
    </div>
  </section>

  <!-- CTA Section - Apple Style -->
  <section class="py-24 sm:py-32 bg-gray-50 dark:bg-gray-900">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2
        class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 dark:text-white mb-6 sm:mb-8 tracking-tight"
        data-scroll-color="section-title"
      >
        准备好开始使用玩机管家了吗？
      </h2>
      <p
        class="text-base sm:text-lg md:text-xl text-gray-600 dark:text-gray-400 mb-10 sm:mb-12 font-light max-w-3xl mx-auto"
        data-scroll-color="feature-text"
      >
        强大、简洁、优雅的安卓设备跨平台全能玩机管家
      </p>
      <div class="flex flex-col sm:flex-row gap-4 sm:gap-6 justify-center">
        <a
          href="/download"
          class="bg-blue-600 hover:bg-blue-700 text-white px-8 sm:px-12 py-3.5 rounded-full text-base sm:text-lg font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl"
        >
          免费下载使用
        </a>
        <a
          href="/docs"
          class="bg-white hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 text-gray-900 dark:text-white px-8 sm:px-12 py-3.5 rounded-full text-base sm:text-lg font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl border border-gray-200 dark:border-gray-700"
        >
          访问文档中心
        </a>
      </div>
    </div>
  </section>

  <!-- 滚动效果组件 -->
  <ScrollColorAnimation />
  <AppleScrollEffects />
  <ImageLightbox />
</MainLayout>

<style>
  /* Hero Section Background */
  .hero-section {
    position: relative;
    background-image: url("/img/admt-bg.webp");
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
    background-attachment: fixed;
  }

  /* Background overlay for better text readability */
  .hero-section::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 255, 255, 0.75);
    z-index: 1;
  }

  /* Dark mode overlay */
  :global(.dark) .hero-section::before {
    background: rgba(0, 0, 0, 0.7);
  }

  /* Ensure content is above the overlay */
  .hero-section > div {
    position: relative;
    z-index: 2;
  }

  /* Responsive background attachment */
  @media (max-width: 768px) {
    .hero-section {
      background-attachment: scroll;
    }
  }

  /* Enhance text contrast on background */
  .hero-section h1,
  .hero-section p {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  :global(.dark) .hero-section h1,
  :global(.dark) .hero-section p {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  }
</style>
